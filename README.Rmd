---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# FinancialData

<!-- badges: start -->
<!-- badges: end -->

The main goal of FinancialData is to provide convenient access from R to some of the information
generated by my [broker-managment](https://github.com/maurogm/broker-management) Scala project.

Also provides access to data from other sources, and convenience functions to manipulate it.

## Installation

You can install the FinancialData package locally by cloning the repo and running:

``` r
devtools::install("path/to/FinancialData")
```

Alternatively, you can install the package from GitHub with:

``` r
devtools::install_github("maurogm/FinancialData")
```

## Example

Loading historic CCL data:
```{r ccl}
library(FinancialData)
ccl <- load_ccl("cclGGAL")
ccl
```

Loading recent prices:
```{r recent-prices}
load_my_data("recent_prices") |> tail(10)
```

Loading market data and converting currency:
```{r ypf}
library(ggplot2)
ypf_ars <- load_market_data("YPFD", "BCBA")
ypf_ccl <- market_data_to_ccl(ypf_ars, ccl)
ggplot(ypf_ccl, aes(x = datetime, y = lastPrice)) +
  geom_line() +
  labs(title = "YPF stock price", x = "Date", y = "Price (CCL-GGAL)")
```

Load US Consumer Price Index data and calculate monthly inflation:
```{r cpi}
us_cpi <- get_cpi_us()
us_monthly_inflation <- calc_inflation_from_cpi(us_cpi)
us_monthly_inflation[lubridate::year(date) == 2021]
```